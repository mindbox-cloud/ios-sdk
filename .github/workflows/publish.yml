name: SDK publish

on:
  push:
    branches:
      - 'master'
      - 'support/*'
      # - 'feature/MBX-3346-MindboxLoggerCI'
    tags-ignore:
      - '**'

jobs:
  # unit:
  #   runs-on: macos-14
  #   steps:
  #   - uses: actions/checkout@v4
  #   - name: Update bundler
  #     run: gem install bundler
  #   - name: Install bundler dependencies
  #     run: bundle install
  #   - name: Run unit tests
  #     run: bundle exec fastlane unitTestLane

  # publish:
  #   needs: [logger-publish]
  #   runs-on: macos-14
  #   steps:
  #   - uses: actions/checkout@v4
  #   - name: Release generation
  #     run: ./git-release.sh "${{ github.event.head_commit.message }}" "${{secrets.GITHUBACCESSTOKEN}}" "${{secrets.GITHUBUSER}}"
  #   - name: Update bundler
  #     run: gem install bundler
  #   - name: Install bundler dependencies
  #     run: bundle install
  #   - name: Select Xcode
  #     run: sudo xcode-select --switch /Applications/Xcode_14.3.1.app
  #   - name: Run build
  #     run: bundle exec fastlane buildLane
  #     env:
  #       CI: true
  #   - name: Deploy to Cocoapods Mindbox/MindboxNotifications
  #     run: |
  #       set -eo pipefail
  #       pod lib lint --allow-warnings
  #     env:
  #       COCOAPODS_TRUNK_TOKEN: ${{ secrets.COCOAPODS_TOKEN }}
